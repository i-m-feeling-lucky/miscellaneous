# 需求总结

> 感谢来自黄旭、吴扬帆、徐文乐的记录（和录屏）。

<!-- TOC -->

- [需求总结](#需求总结)
    - [用户视角](#用户视角)
        - [超管](#超管)
        - [HR](#hr)
        - [面试官](#面试官)
        - [候选人](#候选人)
        - [Common](#common)
    - [功能视角](#功能视角)
        - [预约面试](#预约面试)
        - [面试](#面试)
        - [面试回溯](#面试回溯)
        - [通知系统](#通知系统)

<!-- /TOC -->

## 用户视角

### 超管

- 有账号（一个即可，可在数据库初始化的时候设置其用户名、密码）；

- 添加 HR、面试官、候选人（前两者可以手动导入，最后一个由于太多，应该可以从 CSV 文件、Excel 文件导入）；
- 给 HR 分配任务（任务指 HR 需要筛选的候选人，一个任务只分给一个 HR）、分配工具（工具指 HR 可用的面试官，一个工具可分给多个 HR）。

### HR

- 有账号；
- 手里有需要筛选的候选人，有可以分配的面试官（这二者都是由超管分配的），TA 需要利用手里的面试官筛选候选人；
- 怎么做：将手里的候选人分配给面试官同时指定面试时长（面试时长默认值为 30min；分配时要保证面试官的已有面试任务不重叠且至少间隔 10min），从面试官那里获得评价，根据面试官的评价（等级（SABCD），评语）做出自己的评价（录用、拒绝、进入下一轮）；
- 可旁观面试，但不能干预；
- 可回溯面试过程（可以看到面试过程的文字聊天、白板、代码、视频）。

### 面试官

- 有账号；
- 完全工具人，在系统里面填入自己的空闲时间，服从 HR 的安排（面试谁、什么时候面都由 HR 说的算）；
- 评价框常驻，面试官可在面试中写评价（等级（SABCD），评语）；
- 面试中，面试官窗口显示”结束面试“、”提交评价“、”提交评价并结束面试“三个按钮：
  - 当面试被系统强制结束（超时 10min 或这个面试官距离 TA 的下个面试不足 10min），若这个时刻面试官在线，面试官可继续编辑评价，编辑完之后点击”提交评价“，若这个时刻面试官不在线（面试官一直迟到到现在或面试官面试了一段时间，但是没有结束面试就提前离去），那么自动提交评价框的评价；
  - 当面试不是被强制结束（双方约定好提前结束或候选人迟到且面试官不想再等），若面试官的评价已经写好，可以直接点击”提交评价并结束面试“，若还没写完，可以先点击“结束面试”，此时可以继续编辑评价，编辑完之后点击“提交评价”。


### 候选人

- 无账号，用二元组 `(邮箱, 姓名)` 表示；
- 被超管导入系统，被超管指定一个 HR，被 HR 分配面试官来面试，候选人通过邮件收到面试通知，里面有面试详情、进入面试房间的链接（链接需要有安全措施，比如 `domain.com/room/10086?token=USTC`）。

### Common

所有用户信息可以只增不减；


## 功能视角

### 预约面试

- HR 将手里的候选人分配给面试官同时指定面试时长（面试时长默认值为 30min；分配时要保证面试官的已有面试任务不重叠且至少间隔 10min），然后面试任务加到 HR 自己的“可旁观列表”、加到面试官的“需面试列表”，同时生成一个房间链接，这个链接给候选人（候选人通过邮件收到面试通知，里面有面试详情、进入面试房间的链接）；
- 我们可以先暂时做成候选人和面试官都无法表达意向时间、完全由 HR 一手包办的形式（或者候选人的元组 `(邮箱, 姓名)` 变成 `(邮箱, 姓名, 意向时间)`，HR 可以适当考虑下候选人的意向时间）。

### 面试

- 面试官从自己的”需面试列表”加入面试，候选人从邮箱里收到的链接进入面试。HR 可从自己的“可旁观列表”加入旁观（面试官和候选人不知道 HR 在不在旁观）；
- 每次面试独立；
- 迟到：对于迟到，想象成迟到的那一个人或者两个人（应该不太可能）是空气即可。唯一需要增加的部分是：”当面试被系统强制结束（超时 10min 或这个面试官距离 TA 的下个面试不足 10min），若这个时刻面试官不在线（面试官一直迟到到现在或面试官面试了一段时间，但是没有结束面试就提前离去），那么自动提交评价框的评价“。
- 文字聊天 + 白板（两人共享，用鼠标画） + 视频聊天 + 代码编辑（两人共享，权限一致，C、C++、Java，代码高亮，有题库，面试官从中任选题，题库放一些示例题即可，题库不需要 TAG，可运行、有结果），这几部分同时存在（不过应该可以折叠某些部分）；
- 评价（等级（SABCD），评语），评价框常驻；
- 时长：默认 30min（若超过，则提醒超时，若超时 10min，强制结束），若距离这个面试官的下一场面试不足 10min，强制结束；
- 应保存状态（文字聊天、白板、代码、视频），Why？1. 中途掉线恢复, 2. 给 HR 回溯；
- 面试结果的反馈：面试官可以选择将本次面试的评价告知面试者（是这样么？我不太清楚）。

### 面试回溯

HR 从自己的“可回溯列表”回溯。

### 通知系统

邮件。

